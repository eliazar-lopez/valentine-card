<!DOCTYPE html>
  <html lang="en">
    <head>
    <meta charset="UTF-8">
    <title>Valentine Surprise</title>
      <style>
        body {
          font-family: Arial, Helvetica, sans-serif;
          background: linear-gradient(135deg, #ffdde1, #ee9ca7);
          height: 100vh;
          margin: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
          overflow: hidden;
        }

        .card {
          position: relative;
          width: 90%;
          max-width: 420px;
          min-height: 500px;
          margin: auto;
          padding: 20px;
          overflow: hidden;
          background: rgba(255,255,255,0.1);
          border-radius: 20px;
          backdrop-filter: blur(5px);
          box-sizing: border-box;
          z-index: 10;
        }

        #envelopePanel {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          z-index: 9999;
        }

        #envelopeImg {
          width: 150px;
          cursor: pointer;
          transition: transform 0.5s ease, opacity 0.5s ease;
        }

        #envelopeImg.opened {
          transform: scale(1.1) rotate(-5deg);
          opacity: 0;
        }


        .lol-fight {
          position: relative;
          width: 100%;
          height: 80px;
          margin-top: 20px;
          overflow: hidden;
        }

        .champ-wrap {
          position: absolute;
          bottom: 0;
          width: 60px;
        }
        .champ {
          width: 100%;
          animation: pulse 1.5s ease-in-out infinite alternate;
          opacity: 0.9;
        }

        .lux, .milio {
          filter: drop-shadow(0 0 10px rgba(0,0,0,0.3));
          animation: floatPulse 1.5s ease-in-out infinite alternate;
        }
        
        .lux {
          left: 10px;
        }

        .lux-ult {
          position: absolute;
          top: 50%;
          left: 10%;
          width: 80%;
          height: 40px;
          transform: translateY(-50%);
          opacity: 0;
          border-radius: 40px;
          background: linear-gradient(
            90deg,
            rgba(255,182,193,0),
            rgba(255,105,180,0.7),
            rgb(255, 105,180, 0.8),
            rgba(255,105,180,0.9),
            rgba(255,182,193,0)
          );
          box-shadow:
            0 0 30px rgba(255,105,180,0.7),
            0 0 70px rgba(255,105,180,0.6),
            0 0 120px rgba(255,192,203,0.3);
          animation: luxUlt 5s ease-in-out infinite;
        }

        @keyframes luxUlt {
          0% {
            opacity: 0;
            transform: translateY(-50%) scaleX(0.5);
            filter: blur(6px);
          }

          35% {
            opacity: 0.4;
            transform: translateY(-50%) scaleX(0.7); /* charging */
            filter: blur(4px);
          }

          45% {
            opacity: 0.7; /* almost ready */
            transform: translateY(-50%) scaleX(0.85);
            filter: blur(2px);
          }

          50% {
            opacity: 1;
            transform: translateY(-50%) scaleX(1); /* full beam */
            filter: blur(0);
          }

          65% {
            opacity: 1; /* hold beam */
          }

          85% {
            opacity: 0;
            filter: blur(8px); /* fade away */
          }

          100% {
            opacity: 0;
            transform: translateY(-50%) scaleX(0.5); /* reset for next loop */
          }
        }

        .milio {
          right: 10px;
        }

        @keyframes pulse {
          from {
            transform: scale(1);
          }
          to {
            transform: scale(1.08);
          }
        }

        @keyframes floatPulse {
          from {
            transform: scale(1);
          }
          to {
            transform: scale(1.05);
          }
        }

        /* Panels */
        .panel {
          position: absolute;
          inset: 0;
          opacity: 0;
          transform: translateY(20px);
          transition: opacity 0.6s ease, transform 0.6s ease;
          pointer-events: none;
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .panel.show {
          opacity: 1;
          transform: translateY(0);
          pointer-events: auto;
        }

        h1 {
          font-size: 1.6rem;
          margin-bottom: 10px;
        }

        p {
          font-size: 1rem;
          margin-bottom: 20px;
        }

        button {
          padding: 12px 20px;
          border-radius: 10px;
          border: none;
          font-size: 1rem;
          cursor: pointer;
        }

        #intro {
          padding-top: 20px; /* space from top of card */
        }


        #musicBtn {
          background: rgba(255, 255, 255, 0.8);
          color: #333;
          font-size: 0.9rem;
        }

        #volumeSlider {
          width: 140px;
          margin-bottom: 12px;
          accent-color: #ff5c8a; /* matches Valentine theme */
        }

        #revealBtn {
          background-color: #ff5c8a;
          color: white;
        }

        .timeline p {
          margin-bottom: 8px;
        }

        /* Choices container: YES & NO side by side */
        .choices {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 20px;
          margin-top: 20px;
          position: relative;
          height: 80px;
        }

        #yesBtn, #noBtn {
          transition: transform 0.3s ease; /* smooth scaling */
        }

        #yesBtn {
          position: relative;
          background-color: #4CAF50;
          color: white;
        }

        #noBtn {
          position: relative; /* stays in flex */
          background-color: #ccc;
        }

      #yesPanel h2 {
          margin-bottom: 15px;
        }

      #yesTypewriter {
          font-size: 1.1rem;
          line-height: 1.6;
          max-width: 320px;
        }

        .timeline p {
          opacity: 0;
          margin-bottom: 10px;
          font-size: 1rem;
          line-height: 1.4;
          transition: opacity 0.5s ease;
        }
        .timeline p.show {
          opacity: 1;
        }


        /* Floating hearts */
        .heart {
          position: fixed;
          bottom: -20px;
          font-size: 20px;
          animation: floatUp 4s linear forwards;
          pointer-events: none;
          opacity: 0.25;
          filter: blur(1px);
        }

        /* Floating snoopy */
        .snoopy {
            position: fixed;
            left: 0; 
            bottom: -120px;         
            width: 60px;
            opacity: 0.25;
            pointer-events: none;
            z-index: 1;

            animation-name: snoopyRise;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
          }

        @keyframes snoopyRise {
          from {
            bottom: -120px;
          }
          to {
            bottom: 120vh;
          }
        }

        @keyframes floatUp {
          0% {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
          100% {
            transform: translateY(-110vh) scale(1.5);
            opacity: 0.1;
          }
        }
        
        @media (max-width: 480px) {

          body {
            padding: 10px;
          }

          h1 {
            font-size: 1.4rem;
          }

          p ,.timeline, .sweet-note {
            font-size: 0.95rem;
              line-height: 1.5;
          }

          button {
            width: 100%;
            font-size: 1rem;
            padding: 14px;
            touch-action: manipulation;
          }

          #musicBtn {
            position: static;
            margin-bottom: 8px;
          }

          #volumeSlider {
            width: 100%;
            margin-bottom: 16px;
          }

          .choices {
            display: flex;
            gap: 12px;
            justify-content: center;
            height: 80px;
          }

          #yesBtn,
          #noBtn {
            width: 48%;
          }

          #noBtn {
            position: absolute;
          }

        }

      </style>
    </head>
  <body>

  <div class="card">

    <!-- ENVELOPE SCREEN -->
    <section id="envelopePanel" class="panel show">
      <p>üíå You got a special message!üíå</p>
      <img id="envelopeImg" src="envelope.png" alt="Envelope" />
      <p style="font-size: 0.9rem;">Open me</p>
    </section>


    <!-- INTRO PANEL -->
    <section id="intro" class="panel">
      <button id="musicBtn">‚ñ∂Ô∏è Play Music</button>
      <input
        type="range"
        id="volumeSlider"
        min="0"
        max="1"
        step="0.01"
        value="0.5"
      />
      <audio id="song" src="Taylor Swift - Enchanted.mp3"></audio>
      <h1>Hey Sabrina üëã</h1>
      <p id="typewriter"></p>

      <div class="timeline">
        <p>‚ú® I'll never forget your Lux vs Milio battle ‚ú®</p>
        <p>üåü Remember our 14 hour LoL session üåü</p>
        <p>üíå Always enjoy our 3-5AM yap sessions üíå</p>
      </div>

      <div class="lol-fight">
        <div class="champ-wrap lux">
          <img src="luxfight.png" class="champ" alt="Lux">
        </div>

        <div class="champ-wrap milio">
          <img src="miliofight.png" class="champ" alt="Milio">
        </div>

        <div class="lux-ult"></div>
      </div>


      <button id="revealBtn">Click me</button>
    </section>


    <!-- QUESTION PANEL -->
    <section id="questionPanel" class="panel">
      <p><strong>Will you be my Valentine? üíå</strong></p>
      <div class="choices">
        <button id="yesBtn">Yes üíñ</button>
        <button id="noBtn">No üôÉ</button>
      </div>
    </section>

    <!-- YES PANEL -->
    <section id="yesPanel" class="panel">
      <h2>üíñ It‚Äôs a YES üíñ</h2>
      <p id="yesTypewriter"></p>
      <p>I'm so happy! Looking forward to more amazing moments together. üòä</p>
      <p class="sweet-note">
      I love playing with you ‚Äî even when we lose ü§ç  
      <br>
      And I‚Äôll always enjoy yapping with you.
      </p>

    </section>

  </div>

  <script>
  document.addEventListener("DOMContentLoaded", () => {

    // PANELS
    const envelopePanel = document.getElementById("envelopePanel");
    const intro = document.getElementById("intro");
    const questionPanel = document.getElementById("questionPanel");
    const yesPanel = document.getElementById("yesPanel");


    // BUTTONS
    const revealBtn = document.getElementById("revealBtn");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const musicBtn = document.getElementById("musicBtn");
    const song = document.getElementById("song");

    // PANEL SWITCH HELPER
    function showPanel(current, next) {
      if (!current || !next) {
        console.error("Panel missing:", current, next);
        return;
      }
      current.classList.remove("show");
      next.classList.add("show");
    }


    // TYPEWRITER EFFECT
    const typewriterText = "I have something important to ask you...but first, let's take a little trip down to memory lane:";
    const typewriterElement = document.getElementById("typewriter");
    const timelineLines = document.querySelectorAll(".timeline p");

    let index = 0;

    function typeIntroAndTimeline() {
      // Type the main intro line first
      if (index < typewriterText.length) {
        typewriterElement.textContent += typewriterText[index++];
        setTimeout(typeIntroAndTimeline, 60); // speed of typing
      } else {
        // After intro finishes, start timeline lines
        typeTimeline(0);
      }
    }

    // Recursive function to type timeline lines
    function typeTimeline(lineIndex) {
      if (lineIndex >= timelineLines.length) return;

      const line = timelineLines[lineIndex];
      const text = line.textContent;
      line.textContent = "";
      line.classList.add("show"); // fade in

      let charIndex = 0;

      function typeChar() {
        if (charIndex < text.length) {
          line.textContent += text[charIndex++];
          setTimeout(typeChar, 40); // timeline typing speed
        } else {
          setTimeout(() => typeTimeline(lineIndex + 1), 400); // wait then next line
        }
      }

      typeChar();
    }

    // Start it all
    typeIntroAndTimeline();


        // volume control
        const volumeSlider = document.getElementById("volumeSlider");
        volumeSlider.addEventListener("input", (e) => { 
          song.volume = e.target.value; 
        });

        // MUSIC BUTTON
        let isPlaying = false;

          musicBtn.addEventListener("click", () => {
          if (!isPlaying) {
            song.play();
            musicBtn.textContent = "‚è∏ Pause Music";
          } else {
            song.pause();
            musicBtn.textContent = "‚ñ∂Ô∏è Play Music";
          }
          isPlaying = !isPlaying;
        });


        // REVEAL ‚Üí QUESTION PANEL
        revealBtn.addEventListener("click", () => {
          showPanel(intro, questionPanel);
        });

// üíñ Floating hearts generator
  function startHearts() {
    const heartInterval = setInterval(() => {
      const heart = document.createElement("div");
      heart.classList.add("heart");
      heart.textContent = "üíñ";

      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = Math.random() * 20 + 15 + "px";

      document.body.appendChild(heart);

      setTimeout(() => heart.remove(), 4000);
    }, 200);

    // stop after 5 seconds
    setTimeout(() => clearInterval(heartInterval), 5000);
  }

  // üéâ Confetti burst (simple + reliable)
    function confettiBurst() {
      for (let i = 0; i < 80; i++) {
        const confetti = document.createElement("div");
        confetti.style.position = "fixed";
        confetti.style.width = "8px";
        confetti.style.height = "8px";
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 60%)`;
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.top = "-10px";
        confetti.style.opacity = 1;
        confetti.style.borderRadius = "50%";

        document.body.appendChild(confetti);

        const fall = confetti.animate(
          [
            { transform: "translateY(0)", opacity: 1 },
            { transform: `translateY(110vh)`, opacity: 0 }
          ],
          {
            duration: 3000 + Math.random() * 2000,
            easing: "ease-out"
          }
        );

        fall.onfinish = () => confetti.remove();
      }
    }

    // YES ‚Üí FINAL PANEL
        yesBtn.addEventListener("click", () => {
          showPanel(questionPanel, yesPanel);
          startHearts();
          confettiBurst();
          typeYesMessage();
        });
  
    // NO ‚Üí EVASIVE BUTTON + progressive shrink
    let noScale = 1;   // starting scale for NO
    let yesScale = 1;  // starting scale for YES
    const scaleStep = 0.1;  // amount per click
    const minNoScale = 0.05; // minimum size for NO

    // Hover dodge
    noBtn.addEventListener("mouseenter", () => {
      const offsetX = (Math.random() - 0.5) * 300;
      const offsetY = (Math.random() - 0.5) * 120;
      noBtn.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(${noScale})`;
    });

    noBtn.addEventListener("mouseleave", () => {
      noBtn.style.transform = `scale(${noScale})`;
    });

    // Click shrink, YES grows
    noBtn.addEventListener("click", () => {
      // Shrink NO (but not below minimum)
      noScale = Math.max(minNoScale, noScale - scaleStep);
      noBtn.style.transform = `scale(${noScale})`;

      // Grow YES
      yesScale += scaleStep;
      yesBtn.style.transform = `scale(${yesScale})`;
    });

// snoopy floating
const snoopies = ["snoopy1.jpg", "snoopy2.jpg", "snoopy3.jpg", "lux.jpg","seraphine.jpg", "roses.png"];

function createSnoopy() {
  const snoopy = document.createElement("img");

  // Random Snoopy each time
  const randomSnoopy =
    snoopies[Math.floor(Math.random() * snoopies.length)];

    snoopy.src = randomSnoopy;
    snoopy.className = "snoopy";

    // Random horizontal position
    snoopy.style.left = Math.random() * 90 + "vw";

    // Random size (small ‚Üí medium)
    const size = Math.random() * 60 + 80;
    snoopy.style.width = size + "px";

    // Random speed
    snoopy.style.animationDuration =
      Math.random() * 8 + 18 + "s";

    document.body.appendChild(snoopy);

    // Cleanup
    setTimeout(() => {
      snoopy.remove();
    }, 30000);
  }

  // Spawn interval
  setInterval(createSnoopy, 1000);

    envelopeImg.addEventListener("click", () => {
      envelopeImg.style.pointerEvents = "none"; // prevent double click
      envelopeImg.style.transform = "scale(1.1)";
      envelopeImg.style.opacity = "0";

      setTimeout(() => {
        showPanel(envelopePanel, intro);
      }, 500);
    });

  });
  </script>

  </body>
  </html>
